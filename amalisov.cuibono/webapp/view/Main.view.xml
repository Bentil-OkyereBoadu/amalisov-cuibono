<mvc:View
    controllerName="amalisov.cuibono.controller.Main"
    height="100%"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:fb="sap.ui.comp.filterbar"
    xmlns:svm="sap.ui.comp.smartvariants"
    core:require="{
		formatter: 'amalisov/cuibono/model/formatter'
	}"
>
    <f:DynamicPage headerExpanded="{/headerExpanded}">
        <f:title />

        <f:header>
            <core:Fragment
                fragmentName="amalisov.cuibono.view.fragments.TrancheFilter"
                type="XML"
            />
        </f:header>
        <f:content>
            <Table
                id="Table"
                class="trancheTable"
                width="auto"
                items="{tranchesBind>/BonusTranche}"
            >
                <headerToolbar>
                    <Toolbar class="sapUiSmallMarginBottom">
                        <Title text="{i18n>trancheTableHeader}" />

                        <ToolbarSpacer />

                        <Button
                            text="{i18n>createTranche}"
                            class="btn"
                            press=".onCreateNewTranche"
                        />
                    </Toolbar>
                </headerToolbar>

                <columns>
                    <Column width="12%">
                        <Label text="{i18n>status}" />
                    </Column>
                    <Column>
                        <Label text="{i18n>trancheName}" />
                    </Column>
                    <Column>
                        <Label text="{i18n>trancheLocation}" />
                    </Column>
                    <Column>
                        <Label text="{i18n>startDate}" />
                    </Column>
                    <Column>
                        <Label text="{i18n>endDate}" />
                    </Column>
                    <Column width="10%" />
                </columns>

                <items>
                    <ColumnListItem vAlign="Middle">
                        <Text text="{tranchesBind>Status}" />
                        <Text text="{tranchesBind>name}" />
                        <Text text="{tranchesBind>location}" />
                        <Text
                            text="{tranchesBind>startDate}"
                        />
                        <Text
                            text="{tranchesBind>endDate}"
                        />
                        <HBox class="interactionIcons">
                            <core:Icon
                                src="sap-icon://edit"
                                class="icon"
                                press=".onEditPress"
                            />
                            <core:Icon
                                src="sap-icon://copy"
                                class="icon"
                                press=".onDuplicate"
                            />
                            <core:Icon
                                src="sap-icon://delete"
                                press=".onDeleteTranche"
                                class="icon"
                            />
                        </HBox>
                    </ColumnListItem>
                </items>
            </Table>
        </f:content>
    </f:DynamicPage>
</mvc:View>
